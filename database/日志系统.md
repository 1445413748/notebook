### redo log

当需要修改数据库数据时，为了节省时间，InnoDB 引擎会更新内存并且记录到 redo log 文件中，这个时候修改操作完成。等到比较空闲的时候，InnoDB 会将修改的操作一一写入磁盘。

InnoDB 大小是固定的，当文件被写满后，就会从头开始写。所以，为了知道写入的记录可以覆盖到哪里，在 redo log 中有 checkpoint。如下图：

![](img/checkpoint.png)

checkpoint 之前的记录是已经写入磁盘，可以覆盖的记录。

### binlog

binlog 是 mysql Server 层的日志，是属于 mysql 的。

### redo log 和 binlog 的不同

1. redo log 是 InnoDB 引擎特有的，而 binlog 是 MySQL 的Server 层实现的，所有引擎都能使用。
2. redo log 是物理日志，记录的是 “在哪个数据页进行了什么修改”；而 binlog 是逻辑日志，记录了语句的原始逻辑，比如“给ID=2这一行的c字段加1 ”。
3. redo log 是循环写的，会覆盖之前的修改记录，而 binlog 在一个文件写到指定大小后会切换到下一个文件继续写，不会丢失之前的修改。

